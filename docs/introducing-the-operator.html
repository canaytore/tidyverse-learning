<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Introducing the %&gt;% Operator | Tidyverse Learnings</title>
  <meta name="description" content="Chapter 5 Introducing the %&gt;% Operator | Tidyverse Learnings" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Introducing the %&gt;% Operator | Tidyverse Learnings" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Introducing the %&gt;% Operator | Tidyverse Learnings" />
  
  
  

<meta name="author" content="Author: Can Aytöre" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="favicon.jpg" type="image/x-icon" />
<link rel="prev" href="being-tidy-with-rstudio-projects.html"/>
<link rel="next" href="importing-modifying-and-filtering-data.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/proj4js-2.3.15/proj4.js"></script>
<link href="libs/highcharts-9.3.1/css/motion.css" rel="stylesheet" />
<script src="libs/highcharts-9.3.1/highcharts.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-3d.js"></script>
<script src="libs/highcharts-9.3.1/highcharts-more.js"></script>
<script src="libs/highcharts-9.3.1/modules/stock.js"></script>
<script src="libs/highcharts-9.3.1/modules/map.js"></script>
<script src="libs/highcharts-9.3.1/modules/data.js"></script>
<script src="libs/highcharts-9.3.1/modules/exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/offline-exporting.js"></script>
<script src="libs/highcharts-9.3.1/modules/drilldown.js"></script>
<script src="libs/highcharts-9.3.1/modules/item-series.js"></script>
<script src="libs/highcharts-9.3.1/modules/overlapping-datalabels.js"></script>
<script src="libs/highcharts-9.3.1/modules/annotations.js"></script>
<script src="libs/highcharts-9.3.1/modules/export-data.js"></script>
<script src="libs/highcharts-9.3.1/modules/funnel.js"></script>
<script src="libs/highcharts-9.3.1/modules/heatmap.js"></script>
<script src="libs/highcharts-9.3.1/modules/treemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/sankey.js"></script>
<script src="libs/highcharts-9.3.1/modules/dependency-wheel.js"></script>
<script src="libs/highcharts-9.3.1/modules/organization.js"></script>
<script src="libs/highcharts-9.3.1/modules/solid-gauge.js"></script>
<script src="libs/highcharts-9.3.1/modules/streamgraph.js"></script>
<script src="libs/highcharts-9.3.1/modules/sunburst.js"></script>
<script src="libs/highcharts-9.3.1/modules/vector.js"></script>
<script src="libs/highcharts-9.3.1/modules/wordcloud.js"></script>
<script src="libs/highcharts-9.3.1/modules/xrange.js"></script>
<script src="libs/highcharts-9.3.1/modules/tilemap.js"></script>
<script src="libs/highcharts-9.3.1/modules/venn.js"></script>
<script src="libs/highcharts-9.3.1/modules/gantt.js"></script>
<script src="libs/highcharts-9.3.1/modules/timeline.js"></script>
<script src="libs/highcharts-9.3.1/modules/parallel-coordinates.js"></script>
<script src="libs/highcharts-9.3.1/modules/bullet.js"></script>
<script src="libs/highcharts-9.3.1/modules/coloraxis.js"></script>
<script src="libs/highcharts-9.3.1/modules/dumbbell.js"></script>
<script src="libs/highcharts-9.3.1/modules/lollipop.js"></script>
<script src="libs/highcharts-9.3.1/modules/series-label.js"></script>
<script src="libs/highcharts-9.3.1/plugins/motion.js"></script>
<script src="libs/highcharts-9.3.1/custom/reset.js"></script>
<script src="libs/highcharts-9.3.1/modules/boost.js"></script>
<script src="libs/highchart-binding-0.9.4/highchart.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Tidyverse Learnings</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#aim"><i class="fa fa-check"></i><b>1.1</b> Aim</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#motivation"><i class="fa fa-check"></i><b>1.2</b> Motivation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="get-started-with-tidyverse.html"><a href="get-started-with-tidyverse.html"><i class="fa fa-check"></i><b>2</b> Get Started with <code>tidyverse</code></a>
<ul>
<li class="chapter" data-level="2.1" data-path="get-started-with-tidyverse.html"><a href="get-started-with-tidyverse.html#the-r-language"><i class="fa fa-check"></i><b>2.1</b> The R Language</a></li>
<li class="chapter" data-level="2.2" data-path="get-started-with-tidyverse.html"><a href="get-started-with-tidyverse.html#r-packages"><i class="fa fa-check"></i><b>2.2</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html"><i class="fa fa-check"></i><b>3</b> What is Tidyverse?</a>
<ul>
<li class="chapter" data-level="3.1" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html#why-use-the-tidyverse"><i class="fa fa-check"></i><b>3.1</b> Why use the Tidyverse?</a></li>
<li class="chapter" data-level="3.2" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html#strengths-of-tidyverse"><i class="fa fa-check"></i><b>3.2</b> Strengths of Tidyverse</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html#data-import"><i class="fa fa-check"></i><b>3.2.1</b> Data import</a></li>
<li class="chapter" data-level="3.2.2" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.2.2</b> Data wrangling</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="what-is-tidyverse.html"><a href="what-is-tidyverse.html#maintain-the-tidyverse"><i class="fa fa-check"></i><b>3.3</b> Maintain the Tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html"><i class="fa fa-check"></i><b>4</b> Being Tidy with RStudio Projects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html#why-should-we-use-projects-in-rstudio"><i class="fa fa-check"></i><b>4.1</b> Why should we use projects in RStudio?</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html#easier-import"><i class="fa fa-check"></i><b>4.1.1</b> Easier import</a></li>
<li class="chapter" data-level="4.1.2" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html#improved-reproducibility"><i class="fa fa-check"></i><b>4.1.2</b> Improved Reproducibility</a></li>
<li class="chapter" data-level="4.1.3" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html#improved-collaboration"><i class="fa fa-check"></i><b>4.1.3</b> Improved Collaboration</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="being-tidy-with-rstudio-projects.html"><a href="being-tidy-with-rstudio-projects.html#create-a-new-project"><i class="fa fa-check"></i><b>4.2</b> Create a new Project</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introducing-the-operator.html"><a href="introducing-the-operator.html"><i class="fa fa-check"></i><b>5</b> Introducing the %&gt;% Operator</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introducing-the-operator.html"><a href="introducing-the-operator.html#what-is-the-operator"><i class="fa fa-check"></i><b>5.1</b> What is the %&gt;% Operator</a></li>
<li class="chapter" data-level="5.2" data-path="introducing-the-operator.html"><a href="introducing-the-operator.html#significance-of"><i class="fa fa-check"></i><b>5.2</b> Significance of %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html"><i class="fa fa-check"></i><b>6</b> Importing, Modifying, and Filtering Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#separate-raw-and-clean-data-folders"><i class="fa fa-check"></i><b>6.1</b> Separate raw and clean data folders</a></li>
<li class="chapter" data-level="6.2" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#import-.xlsx-files-with-readxl-in-r"><i class="fa fa-check"></i><b>6.2</b> Import .xlsx files with readxl in R</a></li>
<li class="chapter" data-level="6.3" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#import-.csv-files-with-readr-into-r"><i class="fa fa-check"></i><b>6.3</b> Import .csv files with readr into R</a></li>
<li class="chapter" data-level="6.4" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#is-it-a-data-frame-or-tibble"><i class="fa fa-check"></i><b>6.4</b> Is it a data frame or tibble?</a></li>
<li class="chapter" data-level="6.5" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#select-and-filter-data"><i class="fa fa-check"></i><b>6.5</b> Select and Filter Data</a></li>
<li class="chapter" data-level="6.6" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#convert-strings-to-dates-with-mutate"><i class="fa fa-check"></i><b>6.6</b> Convert strings to dates with mutate</a></li>
<li class="chapter" data-level="6.7" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#separating-columns-into-multiple-columns"><i class="fa fa-check"></i><b>6.7</b> Separating columns into multiple columns</a></li>
<li class="chapter" data-level="6.8" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#filter-out-na-values"><i class="fa fa-check"></i><b>6.8</b> Filter out NA values</a></li>
<li class="chapter" data-level="6.9" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#export-.csv-files-with-readr"><i class="fa fa-check"></i><b>6.9</b> Export .csv files with readr</a></li>
<li class="chapter" data-level="6.10" data-path="importing-modifying-and-filtering-data.html"><a href="importing-modifying-and-filtering-data.html#export-.rdata-objects-for-later-use"><i class="fa fa-check"></i><b>6.10</b> Export .rdata objects for later use</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="summarizing-and-tabulating-data-in-tidyverse.html"><a href="summarizing-and-tabulating-data-in-tidyverse.html"><i class="fa fa-check"></i><b>7</b> Summarizing and Tabulating Data in <code>tidyverse</code></a></li>
<li class="chapter" data-level="8" data-path="wide-and-long-data.html"><a href="wide-and-long-data.html"><i class="fa fa-check"></i><b>8</b> Wide and Long Data</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html"><i class="fa fa-check"></i>Appendices</a>
<ul>
<li class="chapter" data-level="" data-path="appendices.html"><a href="appendices.html#about-author"><i class="fa fa-check"></i>About Author</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://canaytore.github.io/" target="blank">Copyright &copy; Can Aytöre</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Tidyverse Learnings</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introducing-the-operator" class="section level1" number="5">
<h1><span class="header-section-number">Chapter 5</span> Introducing the %&gt;% Operator</h1>
<p>The pipe operator is an incredibly important component of the modern R workflow.</p>
<div id="what-is-the-operator" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> What is the %&gt;% Operator</h2>
<p>Whenever you see percentage, greater than, percentage (%&gt;%) in R code, you should pronounce it “pipe”. The pipe operator is simply <em>‘Syntactic Sugar’</em>, and it’s pretty much the workhorse of the <code>tidyverse</code> and <code>htmlwidgets</code>, which is why it’s so important to master for our uses. But what is <em>Syntactic Sugar</em>? Well, it is designed by developers to make code easier to read or to write for humans.</p>
<p>Typical use cases for <em>Syntactic Sugar</em> are:
- reducing the number of keystrokes needed to write code
- improving the “flow” of writing code, where “flow” simply means the stream of consciousness of the programmer.</p>
<p>We want to minimize the amount we have to think about writing code and instead think about the task we’re trying to achieve. In R, our programming tasks are typically about data manipulation. The ‘pipe’ is excellent <em>Syntactic Sugar</em> for reducing the number of key presses and emphasizing the flow of data in R. So the pipe operator is <em>Syntactic Sugar</em> for chaining operations together.</p>
<p>Now let’s look at a real example in R Studio. Let’s create a simple vector ‘prime’, which stores the prime numbers up to 17. If we wanted to calculate the rolling differences between these numbers, we could write this using standard notation as follows:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="introducing-the-operator.html#cb9-1" aria-hidden="true" tabindex="-1"></a>prime <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>)</span>
<span id="cb9-2"><a href="introducing-the-operator.html#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">diff</span>(prime) <span class="co"># calculates the differences</span></span></code></pre></div>
<pre><code>## [1] 2 2 2 4 2 4</code></pre>
<p>Now we get the rolling differences between the numbers in our vector, but we could just as easily write this with a pipe.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="introducing-the-operator.html#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb11-2"><a href="introducing-the-operator.html#cb11-2" aria-hidden="true" tabindex="-1"></a>prime <span class="sc">%&gt;%</span></span>
<span id="cb11-3"><a href="introducing-the-operator.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>()</span></code></pre></div>
<pre><code>## [1] 2 2 2 4 2 4</code></pre>
<p>In order to introduce pipe operator into R, what we really should do at the top of our script file is to load the <code>tidyverse</code>, as this also loads the pipe from <code>magrittr</code>. We can see we get the exact same as we would get.</p>
<p>Now, if we wanted to calculate the mean difference between the primes, it’s really simple to add another operation to our pipe chain.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="introducing-the-operator.html#cb13-1" aria-hidden="true" tabindex="-1"></a>prime <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="introducing-the-operator.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="introducing-the-operator.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>()</span></code></pre></div>
<pre><code>## [1] 2.666667</code></pre>
<p>We get the mean differences between the primes between 1 and 17. If we were to write this in standard notation, we would have to rewrite the code.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="introducing-the-operator.html#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(<span class="fu">diff</span>(prime))</span></code></pre></div>
<pre><code>## [1] 2.666667</code></pre>
<p>While this is technically fewer key presses, we have had to rewrite our code. We don’t have the steps in the operation we want to perform obvious within our code. So, in traditional R notation, expressions need to be rewritten for new operations to be added. If you need to move to the beginning of the line, and to the end of the line to add a closing parentheses. Whereas with the pipe operator, one can simply continue to chain without having to interrupt yourself to reorganize the code. That’s because the pipe simply chains together operations. Understanding how the pipe operator works is important to master modern R, including the <code>tidyverse</code> and the <code>htmlwidgets</code>.</p>
</div>
<div id="significance-of" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Significance of %&gt;%</h2>
<p>It’s important to understand the significance of periods, or full stops, in pipe expressions, as they’re used fairly frequently. We’ve established that pipes are very useful syntactic sugar that makes it easy to chain together operations, and that they’re ubiquitous in both the <code>tidyverse</code> and in the construction of <code>htmlwidget</code> visualizations, but sometimes you know better than the pipe operator. You realize the left-hand side of the pipe doesn’t belong in the first argument in the right-hand side of the pipe. It needs to be inserted somewhere else, and that’s what a period allows you to do. So let’s look at an example of that.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="introducing-the-operator.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(praise) <span class="co"># includes random texts</span></span>
<span id="cb17-2"><a href="introducing-the-operator.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">praise</span>(), <span class="dv">10</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;You are mathematical!&quot; &quot;You are mathematical!&quot; &quot;You are mathematical!&quot;
##  [4] &quot;You are mathematical!&quot; &quot;You are mathematical!&quot; &quot;You are mathematical!&quot;
##  [7] &quot;You are mathematical!&quot; &quot;You are mathematical!&quot; &quot;You are mathematical!&quot;
## [10] &quot;You are mathematical!&quot;</code></pre>
<p>I used the function rep, which repeats the first argument the number of times specified in the second argument. So, I get praise run 10 times. What the praise library does is it randomly generates a piece of praise, so if I run this again, I’ll get something else.</p>
<p>So, how about if I wanted to generate a vector of praise which was as long as the mean of the differences of my vector, prime, just as an example. Well, I could write it like this using native R:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="introducing-the-operator.html#cb19-1" aria-hidden="true" tabindex="-1"></a>prime <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">11</span>, <span class="dv">13</span>, <span class="dv">17</span>)</span>
<span id="cb19-2"><a href="introducing-the-operator.html#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rep</span>(<span class="fu">praise</span>(), <span class="fu">mean</span>(<span class="fu">diff</span>(prime)))</span></code></pre></div>
<pre><code>## [1] &quot;You are groovy!&quot; &quot;You are groovy!&quot;</code></pre>
<p>But how about if I wanted to write this using pipes? Well, I first pipe my vector into the operation diff to calculate the differences between my vector arguments, then I pipe in mean, so I get the mean difference, which is two and a third, and then I pipe this into the rep function, but the first argument of rep should be the thing which I’m repeating, as opposed to the number of times I’m repeating it. If I type this, I’m going to get an error.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="introducing-the-operator.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb21-2"><a href="introducing-the-operator.html#cb21-2" aria-hidden="true" tabindex="-1"></a>prime <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="introducing-the-operator.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-4"><a href="introducing-the-operator.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-5"><a href="introducing-the-operator.html#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep</span>(<span class="fu">praise</span>())</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="introducing-the-operator.html#cb22-1" aria-hidden="true" tabindex="-1"></a>Error <span class="cf">in</span> <span class="fu">rep</span>(., <span class="fu">praise</span>()) <span class="sc">:</span> invalid <span class="st">&#39;times&#39;</span> argument</span></code></pre></div>
<p>I get told that the times argument is invalid. You can have a look at the documentation for rep by selecting the name of the function and pressing F1, or running the following code.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="introducing-the-operator.html#cb23-1" aria-hidden="true" tabindex="-1"></a>?rep</span></code></pre></div>
<p>We see the first argument of rep should be <em>x</em>, the thing that should be repeated, and the second argument should be times, so what I’m effectively getting ‘times = praise’, which is invalid R code. We need to use the period to suck the left-hand side of the pipe into the appropriate position in the right-hand side of the pipe. So the period will suck in the left-hand side of the pipe away from the first argument into the second argument.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="introducing-the-operator.html#cb24-1" aria-hidden="true" tabindex="-1"></a>prime <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="introducing-the-operator.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="introducing-the-operator.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="introducing-the-operator.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rep</span>(<span class="fu">praise</span>(), .)</span></code></pre></div>
<pre><code>## [1] &quot;You are terrific!&quot; &quot;You are terrific!&quot;</code></pre>
<p>We got a vector of two bits of praise. This period is being pulled into the second argument, which is the times argument. If we didn’t want the <em>same</em> praise each time, we could rewrite this as follows with the replicate function, and the argument is no longer times, it’s ‘n’.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="introducing-the-operator.html#cb26-1" aria-hidden="true" tabindex="-1"></a>prime <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="introducing-the-operator.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">diff</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="introducing-the-operator.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>() <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="introducing-the-operator.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">replicate</span>(<span class="fu">praise</span>(), <span class="at">n =</span> .)</span></code></pre></div>
<pre><code>## [1] &quot;You are beautiful!&quot; &quot;You are perfect!&quot;</code></pre>
<p>I get different praise each time. So we used a very trivial example to demonstrate the use of periods in pipes, but there’s a very important use case for the period in tidyverse; Extracting data from data frames as vectors.</p>
<p>As an example of <code>midwest</code> dataset, we select from that the column state, we ask for the unique values of the state column.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="introducing-the-operator.html#cb28-1" aria-hidden="true" tabindex="-1"></a>midwest <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="introducing-the-operator.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="introducing-the-operator.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>()</span></code></pre></div>
<pre><code>## # A tibble: 5 x 1
##   state
##   &lt;chr&gt;
## 1 IL   
## 2 IN   
## 3 MI   
## 4 OH   
## 5 WI</code></pre>
<p>This returns me a tibble, or a data frame. If I wanted this returned as a vector, I need to use the period to say this is the thing I want, and I want the first column from that data frame, and that returns me a vector.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="introducing-the-operator.html#cb30-1" aria-hidden="true" tabindex="-1"></a>midwest <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="introducing-the-operator.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(state) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="introducing-the-operator.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unique</span>() <span class="sc">%&gt;%</span></span>
<span id="cb30-4"><a href="introducing-the-operator.html#cb30-4" aria-hidden="true" tabindex="-1"></a>  .[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] &quot;IL&quot; &quot;IN&quot; &quot;MI&quot; &quot;OH&quot; &quot;WI&quot;</code></pre>
<p>If you want to more thoroughly understand the slightly odd indexing behavior of R where indexing is extracting components of an object using square brackets, then I thoroughly recommend that you look into Hadley Wickham’s example with pepper shakers that you can see linked <a href="https://r4ds.had.co.nz/vectors.html#lists-of-condiments">here</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="being-tidy-with-rstudio-projects.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="importing-modifying-and-filtering-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "whatsapp", "linkedin", "weibo"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["tidyverse_learnings.pdf", "tidyverse_learnings.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
